{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/projets/frontend/app/members/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\n\ninterface Member {\n  id: number\n  first_name: string\n  last_name: string\n  role: string\n  email: string\n  phone: string\n  photo?: string\n}\n\nconst roleLabels: Record<string, string> = {\n  PASTOR: 'Pasteur',\n  ELDER: 'Ancien',\n  DEACON: 'Diacre',\n  MEMBER: 'Membre',\n  VISITOR: 'Visiteur',\n}\n\nconst roleColors: Record<string, string> = {\n  PASTOR: 'bg-purple-100 text-purple-800 border-purple-200',\n  ELDER: 'bg-blue-100 text-blue-800 border-blue-200',\n  DEACON: 'bg-green-100 text-green-800 border-green-200',\n  MEMBER: 'bg-gray-100 text-gray-800 border-gray-200',\n  VISITOR: 'bg-yellow-100 text-yellow-800 border-yellow-200',\n}\n\nexport default function MembersPage() {\n  const [members, setMembers] = useState<Member[]>([])\n  const [loading, setLoading] = useState(true)\n  const [search, setSearch] = useState('')\n  const [roleFilter, setRoleFilter] = useState('ALL')\n\n  useEffect(() => {\n    // D'abord essayer l'API Django\n    fetch('http://localhost:8000/api/members/')\n      .then(res => {\n        if (!res.ok) throw new Error('API non disponible')\n        return res.json()\n      })\n      .then(data => {\n        setMembers(data)\n        setLoading(false)\n      })\n      .catch(() => {\n        // Données de démonstration si l'API n'est pas disponible\n        const demoMembers: Member[] = [\n          { id: 1, first_name: 'Jean', last_name: 'Martin', role: 'PASTOR', email: 'pasteur@eglise.tg', phone: '+228 90 12 34 56' },\n          { id: 2, first_name: 'Marie', last_name: 'Dupont', role: 'ELDER', email: 'marie@eglise.tg', phone: '+228 91 23 45 67' },\n          { id: 3, first_name: 'Paul', last_name: 'Dubois', role: 'DEACON', email: 'paul@eglise.tg', phone: '+228 92 34 56 78' },\n          { id: 4, first_name: 'Sophie', last_name: 'Lambert', role: 'MEMBER', email: 'sophie@eglise.tg', phone: '+228 93 45 67 89' },\n          { id: 5, first_name: 'Thomas', last_name: 'Moreau', role: 'MEMBER', email: 'thomas@eglise.tg', phone: '+228 94 56 78 90' },\n          { id: 6, first_name: 'Julie', last_name: 'Bernard', role: 'VISITOR', email: 'julie@eglise.tg', phone: '+228 95 67 89 01' },\n        ]\n        setMembers(demoMembers)\n        setLoading(false)\n      })\n  }, [])\n\n  const filteredMembers = members.filter(member => {\n    const matchesSearch = search === '' || \n      member.first_name.toLowerCase().includes(search.toLowerCase()) ||\n      member.last_name.toLowerCase().includes(search.toLowerCase()) ||\n      member.email.toLowerCase().includes(search.toLowerCase())\n    \n    const matchesRole = roleFilter === 'ALL' || member.role === roleFilter\n    \n    return matchesSearch && matchesRole\n  })\n\n  const roleCounts = members.reduce((acc, member) => {\n    acc[member.role] = (acc[member.role] || 0) + 1\n    return acc\n  }, {} as Record<string, number>)\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 py-12\">\n      <div className=\"max-w-7xl mx-auto px-4\">\n        {/* Header */}\n        <header className=\"mb-12\">\n          <h1 className=\"text-4xl font-bold text-gray-900 mb-4\">\n            Annuaire des Membres\n          </h1>\n          <p className=\"text-lg text-gray-600 mb-8\">\n            Rencontrez notre communauté de {members.length} membres\n          </p>\n          \n          {/* Stats */}\n          <div className=\"grid grid-cols-2 md:grid-cols-5 gap-4 mb-8\">\n            {['PASTOR', 'ELDER', 'DEACON', 'MEMBER', 'VISITOR'].map(role => (\n              <div key={role} className=\"bg-white p-4 rounded-xl shadow text-center\">\n                <div className={`inline-block px-3 py-1 rounded-full text-sm font-semibold ${roleColors[role]} mb-2`}>\n                  {roleLabels[role]}\n                </div>\n                <div className=\"text-2xl font-bold\">{roleCounts[role] || 0}</div>\n              </div>\n            ))}\n          </div>\n          \n          {/* Filtres */}\n          <div className=\"bg-white p-6 rounded-xl shadow-lg mb-8\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div>\n                <label htmlFor=\"member-search\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Rechercher un membre\n                </label>\n                <input\n                  id=\"member-search\"\n                  type=\"text\"\n                  placeholder=\"Nom, prénom ou email...\"\n                  value={search}\n                  onChange={(e) => setSearch(e.target.value)}\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  aria-label=\"Rechercher un membre par nom, prénom ou email\"\n                />\n              </div>\n              \n              <div>\n                <label htmlFor=\"role-filter\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Filtrer par rôle\n                </label>\n                <select \n                  id=\"role-filter\"\n                  value={roleFilter}\n                  onChange={(e) => setRoleFilter(e.target.value)}\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                  aria-label=\"Filtrer les membres par rôle\"\n                  title=\"Sélectionnez un rôle pour filtrer les membres\"\n                >\n                  <option value=\"ALL\">Tous les rôles</option>\n                  <option value=\"PASTOR\">Pasteurs</option>\n                  <option value=\"ELDER\">Anciens</option>\n                  <option value=\"DEACON\">Diacres</option>\n                  <option value=\"MEMBER\">Membres</option>\n                  <option value=\"VISITOR\">Visiteurs</option>\n                </select>\n              </div>\n            </div>\n          </div>\n        </header>\n\n        {/* Liste des membres */}\n        <div className=\"bg-white rounded-xl shadow-lg overflow-hidden\">\n          <div className=\"px-6 py-4 border-b border-gray-200\">\n            <h2 className=\"text-2xl font-bold text-gray-800\">\n              Liste des Membres ({filteredMembers.length})\n            </h2>\n          </div>\n\n          {loading ? (\n            <div className=\"p-12 text-center\">\n              <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\" \n                   role=\"status\"\n                   aria-label=\"Chargement des membres en cours\">\n                <span className=\"sr-only\">Chargement...</span>\n              </div>\n              <p className=\"mt-4 text-gray-600\">Chargement des membres...</p>\n            </div>\n          ) : filteredMembers.length === 0 ? (\n            <div className=\"p-12 text-center\">\n              <p className=\"text-gray-600\">Aucun membre ne correspond à votre recherche.</p>\n            </div>\n          ) : (\n            <div className=\"overflow-x-auto\">\n              <table className=\"min-w-full\">\n                <caption className=\"sr-only\">Liste des membres de l'église</caption>\n                <thead className=\"bg-gray-50\">\n                  <tr>\n                    <th scope=\"col\" className=\"px-6 py-3 text-left text-sm font-semibold text-gray-700\">Membre</th>\n                    <th scope=\"col\" className=\"px-6 py-3 text-left text-sm font-semibold text-gray-700\">Rôle</th>\n                    <th scope=\"col\" className=\"px-6 py-3 text-left text-sm font-semibold text-gray-700\">Contact</th>\n                    <th scope=\"col\" className=\"px-6 py-3 text-left text-sm font-semibold text-gray-700\">Actions</th>\n                  </tr>\n                </thead>\n                <tbody className=\"divide-y divide-gray-200\">\n                  {filteredMembers.map((member) => (\n                    <tr key={member.id} className=\"hover:bg-gray-50\">\n                      <td className=\"px-6 py-4\">\n                        <div className=\"flex items-center\">\n                          <div className=\"flex-shrink-0 h-12 w-12 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold\"\n                               aria-hidden=\"true\">\n                            {member.first_name[0]}{member.last_name[0]}\n                          </div>\n                          <div className=\"ml-4\">\n                            <div className=\"font-medium text-gray-900\">\n                              {member.first_name} {member.last_name}\n                            </div>\n                          </div>\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4\">\n                        <span className={`px-3 py-1 rounded-full text-sm font-semibold border ${roleColors[member.role]}`}\n                              aria-label={`Rôle: ${roleLabels[member.role]}`}>\n                          {roleLabels[member.role]}\n                        </span>\n                      </td>\n                      <td className=\"px-6 py-4\">\n                        <div className=\"text-gray-900 font-medium\">{member.email}</div>\n                        <div className=\"text-gray-600 text-sm\">{member.phone || 'Non renseigné'}</div>\n                      </td>\n                      <td className=\"px-6 py-4\">\n                        <button \n                          className=\"text-blue-600 hover:text-blue-800 font-medium\"\n                          onClick={() => console.log('Voir profil:', member.id)}\n                          aria-label={`Voir le profil de ${member.first_name} ${member.last_name}`}\n                        >\n                          Voir profil\n                        </button>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          )}\n        </div>\n\n        {/* Information pour les administrateurs */}\n        <div className=\"mt-8 p-6 bg-blue-50 rounded-xl\">\n          <div className=\"flex justify-between items-center\">\n            <div>\n              <h3 className=\"text-lg font-semibold text-blue-800 mb-2\">Administration</h3>\n              <p className=\"text-blue-700\">\n                Pour gérer les membres, utilisez le panneau d'administration Django.\n              </p>\n            </div>\n            <a \n              href=\"http://localhost:8000/admin\" \n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"bg-blue-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-blue-700 transition\"\n              aria-label=\"Accéder au panneau d'administration Django\"\n            >\n              Accéder à l'admin\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}"],"names":[],"mappings":"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"}}]
}